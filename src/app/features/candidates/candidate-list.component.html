<section class="space-y-6">
  <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
    <div>
      <p class="text-sm uppercase tracking-[0.2em] text-primary my-0">{{ 'candidates.title' | translate }}</p>
      <h2 class="font-display text-4xl font-semibold text-base-content mb-0 mt-2">{{ 'candidates.heading' | translate }}</h2>
    </div>

    <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
      <input type="search" class="input input-bordered w-full min-w-[240px] box-border" [formControl]="filterControl"
        [placeholder]="'candidates.filter' | translate" />
    </div>
  </div>

  @if (candidates$ | async; as candidates) {
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    @for (candidate of candidates; track candidate.id) {
    <article class="card bg-gradient-to-b from-base-200 to-base-100 text-base-content border border-solid border-base-200 shadow-sm">
      <div class="card-body items-center py-4 px-8">
        
        <div class="flex items-center gap-4 w-full">
          <div class="avatar">
            <div class="w-20 rounded-full overflow-hidden ring-2 ring-primary ring-offset-2 ring-offset-base-100">
              <img class="w-full h-full object-cover rounded-full" [src]="candidate.avatar" [alt]="candidate.name"
                loading="lazy" />
            </div>
          </div>
          <div>
            <h3 class="card-title font-bold text-xl mt-0 mb-0">{{ candidate.name }}</h3>
            <p class="my-2">{{ candidate.title }}</p>
            <p class="my-2 flex items-center gap-1">
              <span>{{ candidate.locationKey === 'remote' ? 'ğŸŒ' : 'ğŸ“' }}</span>
              @if (candidate.locationKey) {
                {{ ('locations.' + candidate.locationKey) | translate }}
              } @else {
                {{ candidate.location }}
              }
            </p>
          </div>
        </div>

        <div class="card-actions pt-2">
          <a class="link link-primary text-lg font-semibold" [routerLink]="['/candidates', candidate.id]">
            {{ 'candidates.view' | translate }}
          </a>
        </div>
      </div>
    </article>
    }
  </div>
  } @else {
  <div class="card bg-base-200 shadow-lg">
    <div class="card-body flex items-center justify-between p-6">
      <div>
        <h3 class="text-lg font-semibold text-base-content">{{ 'candidates.empty' | translate }}</h3>
        <p class="text-sm text-base-content/80">{{ 'candidates.filter' | translate }}</p>
      </div>
    </div>
  </div>
  }
</section>
