import{Ba as w,F as e,J as B,Pa as I,Qa as T,R as x,Ra as k,S as v,Sa as $,U as C,Va as F,W as S,Wa as V,X as y,aa as t,ba as i,ca as h,ea as g,ga as E,ha as A,ka as m,la as p,ma as f,t as _,ta as d,ua as r,v as u,w as b}from"./chunk-C57HLG24.js";var R=(n,a)=>a.id;function L(n,a){if(n&1){let o=g();t(0,"li",12)(1,"div",13)(2,"span",14),m(3),i(),t(4,"span",15),m(5),d(6,"translate"),i()(),t(7,"button",16),E("click",function(){let l=u(o).$implicit,c=A(2);return b(c.deleteCandidate(l.id))}),m(8),d(9,"translate"),i()()}if(n&2){let o=a.$implicit;e(3),p(o.name),e(2),f(" ",r(6,3,"titles."+o.titleKey)," "),e(3),f(" ",r(9,5,"candidates.delete")," ")}}function O(n,a){n&1&&(t(0,"p",10),m(1),d(2,"translate"),i(),t(3,"ul",11),S(4,L,10,7,"li",12,R),i()),n&2&&(e(),p(r(2,1,"admin.note")),e(3),y(a))}function j(n,a){if(n&1){let o=g();t(0,"li",12)(1,"div",13)(2,"span",14),m(3),d(4,"translate"),i(),t(5,"span",15),m(6),i()(),t(7,"button",16),E("click",function(){let l=u(o).$implicit,c=A(2);return b(c.deleteOffer(l.id))}),m(8),d(9,"translate"),i()()}if(n&2){let o=a.$implicit;e(3),p(r(4,3,"titles."+o.titleKey)),e(3),f(" ",o.company," "),e(2),f(" ",r(9,5,"offers.delete")," ")}}function M(n,a){n&1&&(t(0,"p",10),m(1),d(2,"translate"),i(),t(3,"ul",11),S(4,j,10,7,"li",12,R),i()),n&2&&(e(),p(r(2,1,"admin.note")),e(3),y(a))}var D=class n{candidateService=_(F);offerService=_(V);auth=_($);candidates$=this.candidateService.candidates$;offers$=this.offerService.offers$;reset(){this.candidateService.loadAll({reset:!0}).subscribe(),this.offerService.loadAll({reset:!0}).subscribe()}deleteCandidate(a){this.auth.hasRole(k.admin)&&this.candidateService.removeFromCache(a)}deleteOffer(a){this.auth.hasRole(k.admin)&&this.offerService.removeFromCache(a)}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=B({type:n,selectors:[["app-admin"]],decls:23,vars:18,consts:[[1,"space-y-6"],[1,"flex","flex-col","gap-4","md:flex-row","md:items-end","md:justify-between"],[1,"text-sm","uppercase","tracking-[0.2em]","text-primary","my-0"],[1,"font-display","text-3xl","font-semibold","text-base-content","mb-0","mt-2"],[1,"flex","flex-col","gap-3","sm:flex-row","sm:items-center"],[1,"btn","btn-primary",3,"click"],[1,"tabs","tabs-box"],["type","radio","name","panel-tabs",1,"tab"],[1,"tab-content","bg-base-100","border-base-300","p-6"],["checked","checked","type","radio","name","panel-tabs",1,"tab"],[1,"text-base-content","italic","text-right","m-0"],[1,"space-y-2","text-base-content","p-0"],[1,"flex","items-center","justify-between","rounded-sm","bg-base-200","px-3","py-2","gap-2"],[1,"flex","flex-col"],[1,"font-semibold"],[1,"text-sm","text-base-content/70"],[1,"btn","btn-sm","btn-error",3,"click"]],template:function(o,s){if(o&1&&(t(0,"section",0)(1,"div",1)(2,"div")(3,"p",2),m(4),d(5,"translate"),i(),t(6,"h2",3),m(7),d(8,"translate"),i()(),t(9,"div",4)(10,"button",5),E("click",function(){return s.reset()}),m(11,"Reset data"),i()()(),t(12,"div",6),h(13,"input",7),d(14,"translate"),t(15,"div",8),v(16,O,6,3),d(17,"async"),i(),h(18,"input",9),d(19,"translate"),t(20,"div",8),v(21,M,6,3),d(22,"async"),i()()()),o&2){let l,c;e(4),p(r(5,6,"admin.title")),e(3),p(r(8,8,"admin.heading")),e(6),x("aria-label",r(14,10,"admin.tabs.candidates")),e(3),C((l=r(17,12,s.candidates$))?16:-1,l),e(2),x("aria-label",r(19,14,"admin.tabs.offers")),e(3),C((c=r(22,16,s.offers$))?21:-1,c)}},dependencies:[T,w,I],encapsulation:2,changeDetection:0})};export{D as AdminComponent};
